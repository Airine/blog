# web安全

1. 私密性：资料不被非法获取和利用
2. 可靠性：不丢失、不损坏、不篡改

如何保证

- 代码层面
- 架构层面
- 运维层面

安全问题
用户身份被盗用
用户密码泄露
用户资料被盗取
网站数据库泄露等

重要性

跨站脚本攻击xss
跨站请求伪造csrf
cookie安全
点击劫持攻击
传输过程安全
用户密码安全
SQL注入攻击
信息泄露和社会工程学
其它安全问题

## 跨站脚本攻击XSS

跨站脚本攻击：`cross site scripting`。

跨站是指不是来自本站的脚本，即用户提交或第三方脚本。xss原理是：程序 + 数据 = 结果。script由数据变成了程序。

1、比如参数带脚本，后端直接返回了，而没有处理。

```javascript
// ?from=<script src='http://www.xx.com/jquery.js'></script>

// 后端模板
<div>{from}</div>
```

xss能干什么？

- 获取页面数据。
- 获取cookie
- 劫持前端逻辑
- 发送请求

也就可以偷取网站任意资料，用户资料，密码和登录态，欺骗用户

2、评论时富文本编辑器，然后其它用户访问评论也会中招

3、用户下单评论或其它操作，后台用户进入查看，这时脚本运行，可以得到后台管理员的cookie和网址，然后登录。

xss攻击分类

反射型：url参数直接注入，危害小些，因为用户可能会察觉到。不过攻击者可能用短网址
存储型：会存储到数据中，相比危害更大

xss攻击注入风险点
- html节点内容
- html属性
- javascript代码
- 富文本





















































































































































































































































