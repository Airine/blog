(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{166:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",function(){return l}),t.d(n,"rightToc",function(){return c}),t.d(n,"default",function(){return b});t(0);var r=t(245);function o(){return(o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function a(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l={title:"javascript 模块化",sidebar_label:"模块化编程"},c=[{value:"立即执行函数",id:"立即执行函数",children:[]},{value:"AMD 和 CMD",id:"amd-和-cmd",children:[]},{value:"CommonJS",id:"commonjs",children:[]},{value:"ES Module",id:"es-module",children:[]},{value:"ES Module 和 CommonJS 的区别？",id:"es-module-和-commonjs-的区别？",children:[]}],u={rightToc:c},i="wrapper";function b(e){var n=e.components,t=a(e,["components"]);return Object(r.b)(i,o({},u,t,{components:n,mdxType:"MDXLayout"}),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"面试题：为什么要使用模块化？都有哪几种方式可以实现模块化，各有什么特点？")),Object(r.b)("p",null,"模块化的好处："),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"解决命名冲突"),Object(r.b)("li",{parentName:"ul"},"提供复用性"),Object(r.b)("li",{parentName:"ul"},"提高代码可维护性")),Object(r.b)("h2",{id:"立即执行函数"},"立即执行函数"),Object(r.b)("p",null,"立即执行函数中声明的变量、函数，不会污染全局作用域。"),Object(r.b)("pre",null,Object(r.b)("code",o({parentName:"pre"},{className:"language-js"}),";(function(global){\n    global.$ = jQuery\n})(window);\n")),Object(r.b)("h2",{id:"amd-和-cmd"},"AMD 和 CMD"),Object(r.b)("p",null,"这两种方式现在已经很少用到。"),Object(r.b)("pre",null,Object(r.b)("code",o({parentName:"pre"},{className:"language-js"}),"// AMD\ndefine(['./a', './b'], function(a, b) {\n  // 加载模块完毕可以使用\n  a.do()\n  b.do()\n})\n// CMD\ndefine(function(require, exports, module) {\n  // 加载模块\n  // 可以把 require 写在函数体的任意地方实现延迟加载\n  var a = require('./a')\n  a.doSomething()\n})\n")),Object(r.b)("h2",{id:"commonjs"},"CommonJS"),Object(r.b)("p",null,"CommonJS 模块规范在 Node 中被使用。它的特点是："),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"每个文件是一个模块"),Object(r.b)("li",{parentName:"ul"},"使用 export 导出模块"),Object(r.b)("li",{parentName:"ul"},"使用 require 导入模块")),Object(r.b)("h2",{id:"es-module"},"ES Module"),Object(r.b)("p",null,"es module babel 会编译成 require/exports ?"),Object(r.b)("h2",{id:"es-module-和-commonjs-的区别？"},"ES Module 和 CommonJS 的区别？"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"CommonJS 是运行时加载，支持动态导入(即路径使用变量)。ES Module 不支持。"),Object(r.b)("li",{parentName:"ul"},"CommonJS 是同步的，因为服务器文件都在本地，速度快。而 ES Module 是异步的，用于浏览器，如果采用同步导入会对渲染有很大影响。"),Object(r.b)("li",{parentName:"ul"},"CommonJS export 的是浅拷贝(如果是基本类型，是拷贝值，不影响原来的值)，esModule 输出的是引用。")),Object(r.b)("pre",null,Object(r.b)("code",o({parentName:"pre"},{className:"language-js"}),"/*************** a.js**********************/\nlet count = {name:1}\nexports.count = count; // 输出值的拷贝\nexports.add = ()=>{\n    //这里改变count值，并不会将module.exports对象的count属性值改变\n    // count++;\n    count.name = 'xx'\n}\n\n\n/*************** b.js**********************/\nconst { count, add } = require('./a.js')\n\nconsole.log(count.name) // 1\nadd();\nconsole.log(count.name) //xx\n")))}b.isMDXComponent=!0},245:function(e,n,t){"use strict";t.d(n,"a",function(){return c}),t.d(n,"b",function(){return m});var r=t(0),o=t.n(r),a=o.a.createContext({}),l=function(e){var n=o.a.useContext(a),t=n;return e&&(t="function"==typeof e?e(n):Object.assign({},n,e)),t},c=function(e){var n=l(e.components);return o.a.createElement(a.Provider,{value:n},e.children)};var u="mdxType",i={inlineCode:"code",wrapper:function(e){var n=e.children;return o.a.createElement(o.a.Fragment,{},n)}},b=function(e){var n=e.components,t=e.mdxType,r=e.originalType,a=e.parentName,c=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===n.indexOf(r)&&(t[r]=e[r]);return t}(e,["components","mdxType","originalType","parentName"]),u=l(n),b=t,m=u[a+"."+b]||u[b]||i[b]||r;return n?o.a.createElement(m,Object.assign({},c,{components:n})):o.a.createElement(m,c)};function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,l=new Array(a);l[0]=b;var c={};for(var i in n)hasOwnProperty.call(n,i)&&(c[i]=n[i]);c.originalType=e,c[u]="string"==typeof e?e:r,l[1]=c;for(var m=2;m<a;m++)l[m]=t[m];return o.a.createElement.apply(null,l)}return o.a.createElement.apply(null,t)}b.displayName="MDXCreateElement"}}]);