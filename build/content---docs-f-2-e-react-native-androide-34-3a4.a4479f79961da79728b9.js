(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{178:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",function(){return l}),t.d(n,"rightToc",function(){return o}),t.d(n,"default",function(){return b});t(0);var a=t(245);function i(){return(i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function r(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var l={title:"android基础知识",date:new Date("2017-12-30T03:40:47.000Z"),toc:!0},o=[{value:"R.string是什么?",id:"rstring是什么",children:[]},{value:"AndroidManifest.xml",id:"androidmanifestxml",children:[]},{value:"修改包名",id:"修改包名",children:[]},{value:"权限",id:"权限",children:[{value:"AndroidManifest.xml 加多个package",id:"androidmanifestxml-加多个package",children:[]}]},{value:"Plugin with id 'com.novoda.bintray-release' not found?",id:"plugin-with-id-comnovodabintray-release-not-found",children:[]},{value:"关于requestPermissions不显示权限申请而直接跳转onRequestPermissionsResult的问题",id:"关于requestpermissions不显示权限申请而直接跳转onrequestpermissionsresult的问题",children:[]},{value:"Could not expand ZIP",id:"could-not-expand-zip",children:[]},{value:"Configuration with name 'default' not found",id:"configuration-with-name-default-not-found",children:[]},{value:"修改apk的名字",id:"修改apk的名字",children:[]},{value:"打包安卓apk",id:"打包安卓apk",children:[]},{value:"打包ios版本",id:"打包ios版本",children:[]},{value:"参考",id:"参考",children:[]},{value:"unable to process incoming event 'ProcessComplete",id:"unable-to-process-incoming-event-processcomplete",children:[]},{value:"报错",id:"报错",children:[]},{value:"导入第三方库",id:"导入第三方库",children:[]},{value:"Error:Unknown host 'android.oa.com'. You may need to adjust the proxy settings in Gradle.",id:"errorunknown-host-androidoacom-you-may-need-to-adjust-the-proxy-settings-in-gradle",children:[]},{value:"使用Genymotion模拟器",id:"使用genymotion模拟器",children:[]},{value:"本地安装gradle-3.3-all.zip",id:"本地安装gradle-33-allzip",children:[]},{value:"unspecifie don project app resolves to an APK archive which is not support",id:"unspecifie-don-project-app-resolves-to-an-apk-archive-which-is-not-support",children:[]},{value:"需要常量表达式case R.id.beauty_seekbar",id:"需要常量表达式case-ridbeauty_seekbar",children:[]},{value:"Manifest merger failed with multiple errors, see ？",id:"manifest-merger-failed-with-multiple-errors-see-？",children:[]},{value:"手机安装app出现多个图标",id:"手机安装app出现多个图标",children:[]},{value:"rn跳转到原生",id:"rn跳转到原生",children:[]},{value:"'Couldn't follow symbolic link' when testing release build for Android",id:"couldnt-follow-symbolic-link-when-testing-release-build-for-android",children:[]},{value:"添加依赖库",id:"添加依赖库",children:[]},{value:"解决“Cannot merge new index xxx into a non-jumbo instruction”的问题",id:"解决cannot-merge-new-index-xxx-into-a-non-jumbo-instruction的问题",children:[]},{value:"java.lang.OutOfMemoryError: GC overhead limit exceeded",id:"javalangoutofmemoryerror-gc-overhead-limit-exceeded",children:[]},{value:"Duplicate files copied in APK lib/armeabi-v7a/libgnustl_shared.so",id:"duplicate-files-copied-in-apk-libarmeabi-v7alibgnustl_sharedso",children:[]},{value:"Error:Could not download gradle-core.jar (com.android.tools.build:gradle-core:2.3.3): No cached version available for offline mode",id:"errorcould-not-download-gradle-corejar-comandroidtoolsbuildgradle-core233-no-cached-version-available-for-offline-mode",children:[]},{value:"JAVA_HOME配置",id:"java_home配置",children:[]},{value:"adb不是内部命令",id:"adb不是内部命令",children:[]},{value:"Error 'Could not determine java version from ‘10’",id:"error-could-not-determine-java-version-from-10",children:[]},{value:"React Native android build failed. SDK location not found",id:"react-native-android-build-failed-sdk-location-not-found",children:[]},{value:'"application" 相关联的属性 "tools:replace" 的前缀 "tools" 未绑定',id:"application-相关联的属性-toolsreplace-的前缀-tools-未绑定",children:[]},{value:"获取远程文件的大小",id:"获取远程文件的大小",children:[]},{value:"安装apk文件",id:"安装apk文件",children:[]},{value:"资料",id:"资料",children:[]},{value:"变量类型",id:"变量类型",children:[]},{value:"访问修饰符",id:"访问修饰符",children:[]}],c={rightToc:o},d="wrapper";function b(e){var n=e.components,t=r(e,["components"]);return Object(a.b)(d,i({},c,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("h2",{id:"rstring是什么"},"R.string是什么?"),Object(a.b)("p",null,Object(a.b)("inlineCode",{parentName:"p"},"R.string.Role_white")," 意思是在 string 资源中定义的字符串",Object(a.b)("inlineCode",{parentName:"p"},"Role_white"),"的值。"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"R = Resource"),Object(a.b)("li",{parentName:"ul"},"string = string.xml"),Object(a.b)("li",{parentName:"ul"},"Role_white = <Role_white>标记对应的值")),Object(a.b)("p",null,Object(a.b)("img",i({parentName:"p"},{src:"./imgs/r.jpg",alt:null}))),Object(a.b)("h2",{id:"androidmanifestxml"},"AndroidManifest.xml"),Object(a.b)("h2",{id:"修改包名"},"修改包名"),Object(a.b)("p",null,"假设包名为com.exease.etd.objective，以下地方需要修改。"),Object(a.b)("p",null,"首先是两个java文件：android/app/src/main/java/com/PROJECT_NAME/MainActivity.java和/MainApplication.java，修改第一行为package com.exease.etd.objective;\n然后是安卓的描述文件android/app/src/main/AndroidManifest.xml，第二行把package的至改为com.exease.etd.objective\n之后是两个打包脚本。\nandroid/app/BUCK，修改两个package的值package = 'com.exease.etd.objective',\nandroid/app/build.gradle其中的applicationID，改为applicationId \"com.exease.etd.objective\"\n修改完成后，命令行进入android目录，执行./gradlew clean清除缓存即可（windows上是 gradlew.bat）\nandroid/app/src/AndroidManifest.xml里package。\n还有MainActivity.java同级目录里文件的package。"),Object(a.b)("h2",{id:"权限"},"权限"),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{className:"language-xml"}),'<manifest xmlns:android="http://schemas.android.com/apk/res/android"\n          package="com.reactlibrary">\n    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" android:maxSdkVersion="18"/>\n</manifest>\n')),Object(a.b)("h3",{id:"androidmanifestxml-加多个package"},"AndroidManifest.xml 加多个package"),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{className:"language-xml"}),'<manifest xmlns:android="http://schemas.android.com/apk/res/android"\n      package="com.myactivities"\n      android:versionCode="1"\n      android:versionName="1.0">\n    <application android:icon="@drawable/icon" android:label="@string/app_name">\n        <activity android:name=".ActivityMain"\n                  android:label="@string/app_name">\n            <intent-filter>\n                <action android:name="android.intent.action.MAIN" />\n                <category android:name="android.intent.category.LAUNCHER" />\n            </intent-filter>\n        </activity>\n    </application>\n</manifest>\n')),Object(a.b)("p",null,"每一个Activity、Service等应用程序组件都会对应AndroidManifest.xml文件中的一个",Object(a.b)("inlineCode",{parentName:"p"},"<activity>"),"、",Object(a.b)("inlineCode",{parentName:"p"},"<service>"),"标签。在这些标签中有一个必选的属性：android:name，该属性需要指定一个类名，例如，android.intent.action.MAIN类。指定android:name属性值有如下3种方式：\n1.  指定完全的类名（packagename+classname），例如，android.intent.action.MAIN。\n2.  只指定类名，例如，.ActivityMain，其中ActivityMain前面的“.”是可选的。该类所在的包名需要在",Object(a.b)("inlineCode",{parentName:"p"},"<manifest>"),"标签的package属性中指定。\n3.  指定相对类名，这种方式类似于第2种方式，只是在",Object(a.b)("inlineCode",{parentName:"p"},"<activity>"),"标签的android:name属性中不光指定类名，还有部分包名。例如，如果Main类在net.blogjava.mobile.abcd包中，就可以在",Object(a.b)("inlineCode",{parentName:"p"},"<manifest>"),"标签的package属性中指定net.blogjava.mobile，然后在",Object(a.b)("inlineCode",{parentName:"p"},"<activity>"),"标签的android:name属性中指定.abcd.Main。\n由此可见，package的目的是为了更方便地指定android:name以及其他相关属性的值，就是一个默认的包。如果不在android:name中指定包名，会自动将package属性值加在前面。"),Object(a.b)("h2",{id:"plugin-with-id-comnovodabintray-release-not-found"},"Plugin with id 'com.novoda.bintray-release' not found?"),Object(a.b)("p",null,"在 ",Object(a.b)("inlineCode",{parentName:"p"},"build.gradle")," 中添加："),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{}),"dependencies {\n    classpath 'com.android.tools.build:gradle:1.5.0'\n    //添加下面这行代码就OK了\n    classpath 'com.novoda:bintray-release:0.3.4'\n")),Object(a.b)("h2",{id:"关于requestpermissions不显示权限申请而直接跳转onrequestpermissionsresult的问题"},"关于requestPermissions不显示权限申请而直接跳转onRequestPermissionsResult的问题"),Object(a.b)("p",null,"当TargetSdk小于23时,即使运行在6.0以上的机型时,requestPermissions都不会弹出权限申请,无论是SDK里面的API还是V4包里面的API,都直接回调onRequestPermissionsResult,并且permissions和grantResults数组的长度都是0! 所以想通过requestPermissions来让用户授权是没用的,还是老老实实弹Toast或者提示跳转到Setting页让用户更改应用权限吧。"),Object(a.b)("h2",{id:"could-not-expand-zip"},"Could not expand ZIP"),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{}),"cd android && gradlew clean\n")),Object(a.b)("h2",{id:"configuration-with-name-default-not-found"},"Configuration with name 'default' not found"),Object(a.b)("p",null,"看是不是某个库卸载了但是android文件依赖了。"),Object(a.b)("h2",{id:"修改apk的名字"},"修改apk的名字"),Object(a.b)("p",null,"打开",Object(a.b)("inlineCode",{parentName:"p"},"android/app/src/main/AndroidManifest.xml")," 看到",Object(a.b)("inlineCode",{parentName:"p"},'android:label="@string/app_name"'),"，说明 app 的名字是在 ",Object(a.b)("inlineCode",{parentName:"p"},"android/app/src/main/res/values/strings.xml")," 配置，修改即可。"),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{className:"language-markup"}),'<resources>\n    <string name="app_name">创库</string>\n</resources>\n')),Object(a.b)("h2",{id:"打包安卓apk"},"打包安卓apk"),Object(a.b)("p",null,"1、首先执行"),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{className:"language-markup"}),"keytool -genkey -v -keystore my-release-key.keystore -alias my-key-alias -keyalg RSA -keysize 2048 -validity 10000\n")),Object(a.b)("p",null,"会在项目根目录生成一个签名文件。",Object(a.b)("inlineCode",{parentName:"p"},"my-key-alias")," 名字可以修改。"),Object(a.b)("p",null,"2、把",Object(a.b)("inlineCode",{parentName:"p"},"my-release-key.keystore"),"文件放到你工程中的android/app文件夹下。"),Object(a.b)("p",null,"3、编辑",Object(a.b)("inlineCode",{parentName:"p"},"~/.gradle/gradle.properties"),"，添加如下的代码（注意把其中的****替换为相应密码）。"),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{className:"language-markup"}),"MYAPP_RELEASE_STORE_FILE=my-release-key.keystore\nMYAPP_RELEASE_KEY_ALIAS=my-key-alias\nMYAPP_RELEASE_STORE_PASSWORD=*****\nMYAPP_RELEASE_KEY_PASSWORD=*****\n")),Object(a.b)("p",null,"4、编辑",Object(a.b)("inlineCode",{parentName:"p"},"android/app/build.gradle"),"。"),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{className:"language-markup"}),"...android {    ...\n    defaultConfig { ... }\n    signingConfigs {\n        release {\n            storeFile file(MYAPP_RELEASE_STORE_FILE)\n            storePassword MYAPP_RELEASE_STORE_PASSWORD\n            keyAlias MYAPP_RELEASE_KEY_ALIAS\n            keyPassword MYAPP_RELEASE_KEY_PASSWORD\n        }\n    }\n    buildTypes {\n        release {            ...\n            signingConfig signingConfigs.release\n        }\n    }\n}...\n")),Object(a.b)("p",null,"5、开启压缩 ",Object(a.b)("inlineCode",{parentName:"p"},"android/app/build.gradle")),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{className:"language-markup"}),"def enableProguardInReleaseBuilds = true\n")),Object(a.b)("p",null,"6、执行打包命令"),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{className:"language-markup"}),"cd android && ./gradlew assembleRelease\n")),Object(a.b)("p",null,"生成的APK文件位于",Object(a.b)("inlineCode",{parentName:"p"},"android/app/build/outputs/apk/app-release.apk"),"，它已经可以用来发布了。"),Object(a.b)("h2",{id:"打包ios版本"},"打包ios版本"),Object(a.b)("h2",{id:"参考"},"参考"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",{href:"http://reactnative.cn/docs/0.44/signed-apk-android.html#content",target:"_blank"},"reactnative中文网打包apk教程"))),Object(a.b)("h2",{id:"unable-to-process-incoming-event-processcomplete"},"unable to process incoming event 'ProcessComplete"),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{}),"gradlew assembleRelease --console plain\n")),Object(a.b)("p",null,Object(a.b)("a",i({parentName:"p"},{href:"http://tool.css-js.com/base64.html"}),"http://tool.css-js.com/base64.html")),Object(a.b)("p",null,Object(a.b)("a",i({parentName:"p"},{href:"http://coding.imooc.com/class/chapter/99.html#Anchor"}),"http://coding.imooc.com/class/chapter/99.html#Anchor"),"\n",Object(a.b)("a",i({parentName:"p"},{href:"https://github.com/Code4AppiOS/RNShareSDK/issues"}),"https://github.com/Code4AppiOS/RNShareSDK/issues")),Object(a.b)("p",null,Object(a.b)("a",i({parentName:"p"},{href:"http://blog.csdn.net/smartbetter/article/details/64190798"}),"http://blog.csdn.net/smartbetter/article/details/64190798")),Object(a.b)("p",null,Object(a.b)("a",i({parentName:"p"},{href:"http://www.devio.org/tags/#React"}),"http://www.devio.org/tags/#React")," Native"),Object(a.b)("p",null,Object(a.b)("a",i({parentName:"p"},{href:"https://github.com/reactnativecn/react-native-pushy/issues"}),"https://github.com/reactnativecn/react-native-pushy/issues"),"\n",Object(a.b)("a",i({parentName:"p"},{href:"https://github.com/sunnylqm/react-native-storage/blob/master/README-CHN.md"}),"https://github.com/sunnylqm/react-native-storage/blob/master/README-CHN.md"),"\n",Object(a.b)("a",i({parentName:"p"},{href:"http://dev.umeng.com/social/android/%E8%BF%9B%E9%98%B6%E6%96%87%E6%A1%A3#2"}),"http://dev.umeng.com/social/android/%E8%BF%9B%E9%98%B6%E6%96%87%E6%A1%A3#2"),"\n",Object(a.b)("a",i({parentName:"p"},{href:"https://github.com/crazycodeboy/GitHubPopular/issues"}),"https://github.com/crazycodeboy/GitHubPopular/issues"),"\n",Object(a.b)("a",i({parentName:"p"},{href:"https://github.com/remobile/react-native-toast"}),"https://github.com/remobile/react-native-toast")),Object(a.b)("p",null,"react-native修改android包名    ",Object(a.b)("a",i({parentName:"p"},{href:"http://www.jianshu.com/p/8b7412bab029"}),"http://www.jianshu.com/p/8b7412bab029")),Object(a.b)("p",null,"iOS App上架流程(2016详细版）\n",Object(a.b)("a",i({parentName:"p"},{href:"http://www.jianshu.com/p/9195cd991fc7"}),"http://www.jianshu.com/p/9195cd991fc7"),"\n",Object(a.b)("a",i({parentName:"p"},{href:"http://www.jianshu.com/p/b1b77d804254"}),"http://www.jianshu.com/p/b1b77d804254"),"\n",Object(a.b)("a",i({parentName:"p"},{href:"https://developer.apple.com/account/ios/profile/create"}),"https://developer.apple.com/account/ios/profile/create"),"\n",Object(a.b)("a",i({parentName:"p"},{href:"https://itunesconnect.apple.com/"}),"https://itunesconnect.apple.com/")),Object(a.b)("h2",{id:"报错"},"报错"),Object(a.b)("p",null,"node_modules_antdmobilern_lib_checkbox_image_normal.png: error: uncompiled PNG file passed as argument. Must be compiled first into .flat file.."),Object(a.b)("p",null,"1、",Object(a.b)("inlineCode",{parentName:"p"},"/android/gradle.properties")),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{}),"android.enableAapt2=false\n")),Object(a.b)("p",null,"2、看看",Object(a.b)("inlineCode",{parentName:"p"},"android/app/src/res/drawable..."),"里",Object(a.b)("inlineCode",{parentName:"p"},"node_...png"),"图片删掉。"),Object(a.b)("p",null,"3、",Object(a.b)("inlineCode",{parentName:"p"},"./gradlew clean")),Object(a.b)("h1",{id:"android-studio"},"Android Studio"),Object(a.b)("h2",{id:"导入第三方库"},"导入第三方库"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"将主项目作为依赖导入到新的项目中。")),Object(a.b)("p",null,"修改 AndroidManifest.xml"),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{className:"language-xml"}),'\x3c!--  注释掉icon和theme\n        android:icon="@mipmap/ic_app"\n        android:theme="@style/AppTheme"\n--\x3e\n<application\n    android:name=".MyApplication"\n    android:allowBackup="true"\n    android:label="@string/app_name"\n    android:supportsRtl="true"\n    >\n')),Object(a.b)("h2",{id:"errorunknown-host-androidoacom-you-may-need-to-adjust-the-proxy-settings-in-gradle"},"Error:Unknown host 'android.oa.com'. You may need to adjust the proxy settings in Gradle."),Object(a.b)("p",null,"将 build.gradle里的代理去掉"),Object(a.b)("h2",{id:"使用genymotion模拟器"},"使用Genymotion模拟器"),Object(a.b)("p",null,"在android studio里设置插件，搜索genymotion，然后在最下面配置它的路径，重启 genymotion。"),Object(a.b)("h2",{id:"本地安装gradle-33-allzip"},"本地安装gradle-3.3-all.zip"),Object(a.b)("p",null,"先手动下载 ",Object(a.b)("a",i({parentName:"p"},{href:"http://services.gradle.org/distributions/"}),"gradle包"),"。然后修改",Object(a.b)("inlineCode",{parentName:"p"},"{project.dir}\\gradle\\wrapper\\gradle-wrapper.properties"),"文件。"),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{}),"# distributionUrl=https\\://services.gradle.org/distributions/gradle-2.2.1-all.zip\ndistributionUrl=gradle-2.2.1-all.zip\n")),Object(a.b)("h2",{id:"unspecifie-don-project-app-resolves-to-an-apk-archive-which-is-not-support"},"unspecifie don project app resolves to an APK archive which is not support"),Object(a.b)("p",null,"出现这个问题是一个 libraryA 依赖另一个 libraryB 导致，需要修改 libraryB 的 build.gradle。"),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{}),"// 原\n# apply plugin:'com.android.application'\n\n// 修改为\napply plugin:'com.android.library'\n")),Object(a.b)("p",null,"改完编译，还会包下面一个错误 ",Object(a.b)("inlineCode",{parentName:"p"},"Library projects cannot set applicationId. applicationId is set to 'com.tencent.qcloud.timchat' in default config."),"。"),Object(a.b)("p",null,"还需要将 ",Object(a.b)("inlineCode",{parentName:"p"},"android -> defaultConfig")," 的 application 删除。"),Object(a.b)("p",null,"参考：",Object(a.b)("a",i({parentName:"p"},{href:"https://stackoverflow.com/questions/27536491/how-to-import-android-project-as-library-and-not-compile-it-as-apk-android-stud"}),"How to import android project as library and NOT compile it as apk (Android studio 1.0)")),Object(a.b)("h2",{id:"需要常量表达式case-ridbeauty_seekbar"},"需要常量表达式case R.id.beauty_seekbar"),Object(a.b)("p",null,"将一个主工程作为依赖工程，给另一个新的主工程使用时，报了这个错误。"),Object(a.b)("p",null,Object(a.b)("img",i({parentName:"p"},{src:"./imgs/error-need-const.png",alt:null}))),Object(a.b)("p",null,"需要将 switch 语句替换成 if。如下："),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{}),"// 原来\nint id = view.getId();\nswitch (id) {\n    case R.id.button1:\n        action1();\n        break;\n    case R.id.button3:\n        action3();\n        break;\n}\n\n// 替换为\nint id = view.getId();\nif (id == R.id.button1) {\n    action1();\n} else if (id == R.id.button3) {\n    action3();\n}\n")),Object(a.b)("p",null,"在 android studio中可以使用快捷方式将 switch 语句换成 if 语句，方法是 ",Object(a.b)("inlineCode",{parentName:"p"},"鼠标选中 switch 单词 ->  按 alt + enter -> 点击replace switch with if"),"。"),Object(a.b)("p",null,"参考：",Object(a.b)("a",i({parentName:"p"},{href:"http://tools.android.com/tips/non-constant-fields"}),"Non-constant Fields in Case Labels")),Object(a.b)("h2",{id:"manifest-merger-failed-with-multiple-errors-see-？"},"Manifest merger failed with multiple errors, see ？"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",i({parentName:"li"},{href:"https://www.zhihu.com/question/36645628"}),"Manifest merger failed with multiple errors, see"))),Object(a.b)("h2",{id:"手机安装app出现多个图标"},"手机安装app出现多个图标"),Object(a.b)("p",null,"查看AndroidManifest.xml去掉下面代码。"),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{}),'<category android:name="android.intent.category.LAUNCHER" />\n')),Object(a.b)("h2",{id:"rn跳转到原生"},"rn跳转到原生"),Object(a.b)("p",null,Object(a.b)("a",i({parentName:"p"},{href:"https://www.cnblogs.com/shen076/p/6380034.html"}),"https://www.cnblogs.com/shen076/p/6380034.html")),Object(a.b)("p",null,Object(a.b)("a",i({parentName:"p"},{href:"https://blog.csdn.net/csdn_aiyang/article/details/78397409?fps=1&locationNum=10"}),"https://blog.csdn.net/csdn_aiyang/article/details/78397409?fps=1&locationNum=10")),Object(a.b)("h2",{id:"couldnt-follow-symbolic-link-when-testing-release-build-for-android"},"'Couldn't follow symbolic link' when testing release build for Android"),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{}),"rm -rf node_modules && npm install\n")),Object(a.b)("h2",{id:"添加依赖库"},"添加依赖库"),Object(a.b)("p",null,"点击菜单中的“项目结构（倒数第四个 project construct）”图标按钮，或者快捷键",Object(a.b)("inlineCode",{parentName:"p"},"cmd + ;")," 。"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",i({parentName:"li"},{href:"https://www.jianshu.com/p/554900684447"}),"Android Studio 添加依赖库三种方式"))),Object(a.b)("h2",{id:"解决cannot-merge-new-index-xxx-into-a-non-jumbo-instruction的问题"},"解决“Cannot merge new index xxx into a non-jumbo instruction”的问题"),Object(a.b)("p",null,"使用Gradle构建的，在模块的build.gradle里配置："),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{}),"android {\n\n    // 添加\n    dexOptions {\n        jumboMode true\n    }\n}\n")),Object(a.b)("p",null,"之后可能会报错：",Object(a.b)("inlineCode",{parentName:"p"},"method ID not in [0, 0xffff]: 65536"),"。需要在build.gradle文件里添加："),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{}),"android {\n    defaultConfig{\n        ...\n        multiDexEnabled true  // 添加\n    }\n}\n")),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",i({parentName:"li"},{href:"https://blog.csdn.net/zouchengxufei/article/details/49996717"}),"Android Studio 遇到 “method ID not in [0, 0xffff]: 65536” error"))),Object(a.b)("h2",{id:"javalangoutofmemoryerror-gc-overhead-limit-exceeded"},"java.lang.OutOfMemoryError: GC overhead limit exceeded"),Object(a.b)("p",null,"意思是电脑内存、CPU占用太大了。"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",i({parentName:"li"},{href:"https://stackoverflow.com/questions/1393486/error-java-lang-outofmemoryerror-gc-overhead-limit-exceeded"}),"Error java.lang.OutOfMemoryError: GC overhead limit exceeded"))),Object(a.b)("h2",{id:"duplicate-files-copied-in-apk-libarmeabi-v7alibgnustl_sharedso"},"Duplicate files copied in APK lib/armeabi-v7a/libgnustl_shared.so"),Object(a.b)("p",null,"在主项目的",Object(a.b)("inlineCode",{parentName:"p"},"grade.build"),"里添加："),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{}),"android {\n    packagingOptions {\n        pickFirst 'lib/armeabi-v7a/libgnustl_shared.so'\n        pickFirst 'lib/arm64-v8a/libgnustl_shared.so'\n        pickFirst 'lib/x86_64/libgnustl_shared.so'\n        pickFirst 'lib/x86/libgnustl_shared.so'\n    }\n}\n")),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",i({parentName:"li"},{href:"https://stackoverflow.com/questions/37200853/how-to-fix-the-libgnustl-shared-so-file-duplicated-which-in-third-party-sdks/39584838#39584838"}),"How to fix the libgnustl_shared.so file duplicated which in third party sdks?"))),Object(a.b)("h2",{id:"errorcould-not-download-gradle-corejar-comandroidtoolsbuildgradle-core233-no-cached-version-available-for-offline-mode"},"Error:Could not download gradle-core.jar (com.android.tools.build:gradle-core:2.3.3): No cached version available for offline mode"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"打开android studio安装目录对应的目录",Object(a.b)("inlineCode",{parentName:"li"},"C:\\Program Files\\Android\\Android Studio\\gradle\\m2repository\\com\\android\\tools\\build\\gradle"),"。"),Object(a.b)("li",{parentName:"ol"},"修改下面文件")),Object(a.b)("p",null,Object(a.b)("img",i({parentName:"p"},{src:"./imgs/android-gradle-error.png",alt:null}))),Object(a.b)("p",null,"参考 ",Object(a.b)("a",i({parentName:"p"},{href:"https://blog.csdn.net/scarecrow_fly/article/details/77949905"}),"Gradle版本号不匹配导致的错误解决办法")),Object(a.b)("h2",{id:"java_home配置"},"JAVA_HOME配置"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",i({parentName:"li"},{href:"https://docs.oracle.com/cd/E19182-01/820-7851/inst_cli_jdk_javahome_t/"}),"Installing the JDK Software and Setting JAVA_HOME"))),Object(a.b)("h2",{id:"adb不是内部命令"},"adb不是内部命令"),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"windows系统"),"\n将android studio sdk目录打开，",Object(a.b)("inlineCode",{parentName:"p"},"C:\\Users\\banli17\\AppData\\Local\\Android\\sdk\\platform-tools"),"。里面有个adb.exe文件。 将它配置成环境变量。"),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"mac系统")),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{className:"language-bash"}),"// 方法1，全局生效\nvim /etc/profile\nexport PATH=$PATH:/Users/banli/Library/Android/sdk/platform-tools\nsource /etc/profile\n\n// 方法2，用户生效\nsudo vim ~/.bash_profile\nexport PATH=$PATH:/Users/banli/Library/Android/sdk/platform-tools\nsource ~/.bash_profile\n")),Object(a.b)("h2",{id:"error-could-not-determine-java-version-from-10"},"Error 'Could not determine java version from ‘10’"),Object(a.b)("p",null,"回退到",Object(a.b)("a",i({parentName:"p"},{href:"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html"}),"java8"),"。"),Object(a.b)("h2",{id:"react-native-android-build-failed-sdk-location-not-found"},"React Native android build failed. SDK location not found"),Object(a.b)("p",null,"在android目录新建",Object(a.b)("inlineCode",{parentName:"p"},"local.properties"),"，添加sdk地址(Android studio sdk里面有)。"),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{}),"sdk.dir = /Users/USERNAME/Library/Android/sdk\n")),Object(a.b)("h2",{id:"application-相关联的属性-toolsreplace-的前缀-tools-未绑定"},'"application" 相关联的属性 "tools:replace" 的前缀 "tools" 未绑定'),Object(a.b)("h1",{id:"常用的java函数"},"常用的java函数"),Object(a.b)("h2",{id:"获取远程文件的大小"},"获取远程文件的大小"),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{className:"language-java"}),'import java.net.URL;\nimport java.net.URLConnection;\nimport java.net.HttpURLConnection;\nimport java.io.IOException;\nimport com.facebook.react.bridge.Promise;\n\n@ReactMethod\npublic void getFileSize(String path,Promise promise) throws Exception{\n    URL url = new URL(path);\n    HttpURLConnection conn = null;\n    try {\n        conn = (HttpURLConnection) url.openConnection();\n        conn.setRequestMethod("HEAD");\n        conn.getInputStream();\n        promise.resolve("" + conn.getContentLength());\n    } catch (IOException e) {\n        promise.reject("-1");\n    } finally {\n        conn.disconnect();\n    }\n}\n')),Object(a.b)("h2",{id:"安装apk文件"},"安装apk文件"),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{className:"language-java"}),'import android.content.Intent;\nimport android.net.Uri;\n\n@ReactMethod\npublic void install(String path) {\n    String cmd = "chmod 777 " + path;\n    try {\n        Runtime.getRuntime().exec(cmd);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    Intent intent = new Intent(Intent.ACTION_VIEW);\n    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n    intent.setDataAndType(Uri.parse("file://" + path), "application/vnd.android.package-archive");\n    reactContext.startActivity(intent);\n}\n')),Object(a.b)("h1",{id:"java基础知识"},"java基础知识"),Object(a.b)("h2",{id:"资料"},"资料"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",i({parentName:"li"},{href:"http://www.runoob.com/java/java-modifier-types.html"}),"java基础教程")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",i({parentName:"li"},{href:"https://reactnative.cn/docs/0.51/native-modules-android.html"}),"https://reactnative.cn/docs/0.51/native-modules-android.html")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",i({parentName:"li"},{href:"https://www.jianshu.com/p/b9a7dbe9b336"}),"https://www.jianshu.com/p/b9a7dbe9b336")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",i({parentName:"li"},{href:"http://www.devio.org/"}),"http://www.devio.org/")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",i({parentName:"li"},{href:"https://www.jianshu.com/u/ca3943a4172a"}),"https://www.jianshu.com/u/ca3943a4172a")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",i({parentName:"li"},{href:"https://github.com/crazycodeboy"}),"https://github.com/crazycodeboy")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",i({parentName:"li"},{href:"https://gradle.org/install/"}),"https://gradle.org/install/")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",i({parentName:"li"},{href:"http://maven.apache.org/download.cgi"}),"http://maven.apache.org/download.cgi"),"  mac下载二进制zip文件")),Object(a.b)("h2",{id:"变量类型"},"变量类型"),Object(a.b)("p",null,"java数据类型有基本数据类型和引用类型。"),Object(a.b)("p",null,"基本类型有："),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"数值型",Object(a.b)("ul",{parentName:"li"},Object(a.b)("li",{parentName:"ul"},"byte"),Object(a.b)("li",{parentName:"ul"},"short"),Object(a.b)("li",{parentName:"ul"},"int"),Object(a.b)("li",{parentName:"ul"},"long"),Object(a.b)("li",{parentName:"ul"},"float"),Object(a.b)("li",{parentName:"ul"},"double"))),Object(a.b)("li",{parentName:"ul"},"字符型",Object(a.b)("ul",{parentName:"li"},Object(a.b)("li",{parentName:"ul"},"char"))),Object(a.b)("li",{parentName:"ul"},"布尔型",Object(a.b)("ul",{parentName:"li"},Object(a.b)("li",{parentName:"ul"},"boolean")))),Object(a.b)("p",null,"引用类型有："),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"类 class"),Object(a.b)("li",{parentName:"ul"},"接口 interface"),Object(a.b)("li",{parentName:"ul"},"数组")),Object(a.b)("p",null,"java 支持的变量类型有："),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"类变量"),Object(a.b)("li",{parentName:"ul"},"实例变量"),Object(a.b)("li",{parentName:"ul"},"局部变量")),Object(a.b)("pre",null,Object(a.b)("code",i({parentName:"pre"},{className:"language-javascript"}),"public class Variable{\n    static int allClicks=0;    // 类变量，初始化后值不能修改\n\n    String str=\"hello world\";  // 实例变量，可以在其他方法中使用\n\n    public void method(){\n\n        int i =0;  // 局部变量\n\n        str = 'hi';\n\n    }\n}\n")),Object(a.b)("h2",{id:"访问修饰符"},"访问修饰符"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"default：在同一包内可见"),Object(a.b)("li",{parentName:"ul"},"private：在同一类内可见"),Object(a.b)("li",{parentName:"ul"},"public：对所有类可见"),Object(a.b)("li",{parentName:"ul"},"protected")))}b.isMDXComponent=!0},245:function(e,n,t){"use strict";t.d(n,"a",function(){return o}),t.d(n,"b",function(){return p});var a=t(0),i=t.n(a),r=i.a.createContext({}),l=function(e){var n=i.a.useContext(r),t=n;return e&&(t="function"==typeof e?e(n):Object.assign({},n,e)),t},o=function(e){var n=l(e.components);return i.a.createElement(r.Provider,{value:n},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){return i.a.createElement(i.a.Fragment,{},e.children)}},b=function(e){var n=e.components,t=e.mdxType,a=e.originalType,r=e.parentName,o=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===n.indexOf(a)&&(t[a]=e[a]);return t}(e,["components","mdxType","originalType","parentName"]),c=l(n);return i.a.createElement(c[r+"."+t]||c[t]||d[t]||a,n?Object.assign({},o,{components:n}):o)};function p(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,l=new Array(r);l[0]=b;var o={};for(var d in n)hasOwnProperty.call(n,d)&&(o[d]=n[d]);o.originalType=e,o[c]="string"==typeof e?e:a,l[1]=o;for(var p=2;p<r;p++)l[p]=t[p];return i.a.createElement.apply(null,l)}return i.a.createElement.apply(null,t)}b.displayName="MDXCreateElement"}}]);